var verify = require('../../../lib/util/verify');
var xmlgen = require('./gen/main');

var md = module.exports = {};

md.getGenerator = function (name) {
    if (name === 'xml/document') {
        return xmlgen;
    } else {
        throw new Error("Cannot find generator : " + name);
    }
}

function modelLoader(filepath, context, callback) {
    if (verify.endsWith(filepath, 'rdbms/test.rdbms.ittf')) {
        var ret = {
            WmtName: 'TestRdbms',
            tables: [{
                WmtName: 'User',
                nameLower: 'user',
            }, {
                WmtName: 'UserPref',
                nameLower: 'userpref',
            }]
        }
        callback(null, ret);
    } else {
        throw new Error("Cannot load model for filepath : " + filepath);
    }
}
