// generator: wizzi-lab-artifatcs/lib/js/module/gen/main.js, utc time: Thu, 22 Oct 2015 19:39:44 GMT
var util = require('util');
var path = require('path');
var expect = require('expect.js');
var labSchemas = require('../../lib/labs/schemas');
var schemaBoot = require('../../lib/models/schemaBoot');
var file = require('wizzi-core').file;
var legacy = require('wizzi-legacy');
var schemaTemplate = path.join(__dirname, '../../templates', 'schema.js.ittf');
var folder = path.resolve(__dirname, '../../');
var out = path.join(folder, 'generated', 'db.schema.js');
describe("creating a schema model", function() {
    it("should have 2 choices", function() {
        legacy.jsModule(schemaTemplate, {
            schema_stop: labSchemas.rdbmsSchema(), 
            schema: schemaBoot.createSchemaSchema(), 
            request: {
                emitKey: 'node-js', 
                toJson: false
            }
        }, function(err, result) {
            if (err) {
                throw new Error(err);
            }
            file.write(out, err || result);
            expect(result.indexOf('wzSourceLineInfo = function(row, col, source)') > 0).to.be(true);
        });
    });
});
